@import "nib"

color-green = #13bbc9
color-white = white

border-left-radius(val)
    border-top-left-radius val
    border-bottom-left-radius val

border-right-radius(val)
    border-top-right-radius val
    border-bottom-right-radius val

square(width)
    width: width
    height: width

glow()
    border: 1px solid color-green
    inner-glow = 0 0 10px color-green inset
    outer-glow = 0 0 10px rgba(color-green, 0.5)
    box-shadow: inner-glow, outer-glow

glow-text()
    outer-glow = 0 0 10px color-green
    shadow = 0 0 5px color-green
    text-shadow outer-glow, shadow

button()
    cursor: pointer
    border-radius: 5px

bold-text()
    font-weight: 600

body
    background: #222
    margin: 0
    padding: 0

.avatar
    background url(/images/avatars.png) top left no-repeat
    border-radius: 5px
    &.marine
        background-position -7px -6px

#main
    background: #111
    position: absolute
    font-size: 14px
    font-family: Exo, Helvetica Neue, Arial, sans-serif
    overflow: hidden
    width: 960px
    height: 640px
    //background: url(/media/background.png) top left no-repeat

#game
    display: inline-block

.title
    color white
    font-weight: bold
    font-size: 12px
    glow-text()

#turn-list
    position absolute
    bottom 15px
    right 15px
    height 42px
    transition 400ms

    &.hidden
        bottom: -30px - 42px

    ul
        margin 0
        padding 0

    .title
        position absolute
        top -25px
        left 0
        text-transform uppercase

    .unit
    li
        vertical-align top
        background-color black
        display inline-block
        margin-right: 5px
        transition 400ms
        square(30px)
        glow()

        &:first-child
            square(40px)
            border-color white

        &.leaving
            square(0)
            opacity: 0
            margin-left: -5px

#ui
    z-index: 1

    .preloader
        position: absolute
        width: 100%
        height: 100%
        background-color: black

        &.hidden
            visibility: hidden

        .border
        .bar
            background: #111
            position: absolute
            top: 50%
            left: 10px
            right: 10px
            height: 3px
            border: 1px solid rgba(white, 0.12)
            margin-top: -15px
            border-radius: 3px

        .bar
            background-color: white
            border-color: transparent
            box-shadow: 0 0 10px 1px #33aaa3
            z-index: 1
            transition: 600ms

    .unit-active
        glow()
        font-size: 12px
        text-transform: uppercase
        color: color-green
        background: black
        width: 500px
        height: 40px
        z-index: 2
        position: absolute
        bottom: 15px
        left: 15px
        transition: 400ms bottom
        border-radius: 5px

        &.hidden
            bottom: -70px

        > .title
            position: absolute
            top: -25px
            left: 0px

        .avatar
            glow()
            background-color: black
            width: 28px
            height: 28px
            position: absolute
            left: 5px
            top: 5px
            overflow: hidden

        .health
            position: absolute
            left: 55px
            top: 11px

            .label
                float: left
                margin-right: 5px

            .value
                float: left
                color: color-white
                font-weight: 600

        .actions
            position: absolute
            left: 145px
            top: 11px
            height: 16px

            .title
                line-height: 16px
                height: 16px
                float: left
                font-weight normal
                font-size: inherit
                color inherit

            .bars
                margin-left: 5px
                float: left
                width 130px

            .bar
                glow()
                box-sizing: border-box
                width: 0
                height: 16px
                background: rgba(color-green, 0.5)
                float: left
                border: 1px solid color-green
                &:not(:first-child)
                    border-left-color: black

                &:first-child
                    border-left-radius(5px)

                &:last-child
                    border-right-radius(5px)

                &.empty
                    opacity: 0.25

        .commands
            position: absolute
            top: 5px
            right: 5px

            .command
                bold-text()
                button()
                border: 1px solid color-green
                padding: 5px
                background: rgba(color-green, 0.15)
                float: left
                margin-left: 2px
                transition: 200ms
                box-shadow: 0 0 10px color-green inset
                &:hover
                    background: rgba(color-green, 0.5)
                    color: color-white
